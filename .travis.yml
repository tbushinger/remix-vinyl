sudo: true
dist: trusty
language: node_js
node_js:
  - "9"

jobs:
  include:
    #- stage: test
    #  script: npm test
    #- stage: build-image
    #  script: 
    #   - npm run build-ts
    #   - npm run build-image
    #   - echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_USERNAME" --password-stdin
    #   - npm run push-image
    - stage: test-integration
      script: 
       - cd test/integration
       - docker-compose up -d remix
       - docker-compose up harness
       - docker-compose down
